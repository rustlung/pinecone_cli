# Pinecone CLI - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤–µ–∫—Ç–æ—Ä–Ω—ã–º –ø–æ–∏—Å–∫–æ–º

CLI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Pinecone –∏ OpenAI embeddings. –ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –≤–µ–∫—Ç–æ—Ä–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö, –≤—ã–ø–æ–ª–Ω—è—Ç—å semantic search –∏ –ø–æ–ª—É—á–∞—Ç—å –æ—Ç–≤–µ—Ç—ã –æ—Ç GPT-4 –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üì• **–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö** - –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ Pinecone —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º OpenAI embeddings
- üîç **Semantic Search** - –ø–æ–∏—Å–∫ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –ø–æ —Å–º—ã—Å–ª—É
- üí¨ **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º** - REPL –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–∏—Å–∫–æ–º –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç–æ–≤ –æ—Ç GPT-4
- üìä **–ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ–∏—Å–∫–∞ –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏–∑ —Ñ–∞–π–ª–∞

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.10+
- –ê–∫–∫–∞—É–Ω—Ç OpenAI —Å API –∫–ª—é—á–æ–º
- –ê–∫–∫–∞—É–Ω—Ç Pinecone —Å API –∫–ª—é—á–æ–º –∏ —Å–æ–∑–¥–∞–Ω–Ω—ã–º –∏–Ω–¥–µ–∫—Å–æ–º

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç

2. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
```bash
python -m venv venv
```

3. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
```bash
# Windows
venv\Scripts\activate

# Linux/Mac
source venv/bin/activate
```

4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install -r requirements.txt
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.example`:

```env
OPENAI_API_KEY=your_openai_api_key_here
PINECONE_API_KEY=your_pinecone_api_key_here
PINECONE_INDEX_NAME=your_index_name
OPENAI_EMBED_MODEL=text-embedding-3-small
OPENAI_CHAT_MODEL=gpt-4
LOG_LEVEL=INFO
```

2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
   - `OPENAI_API_KEY` - –≤–∞—à API –∫–ª—é—á OpenAI
   - `PINECONE_API_KEY` - –≤–∞—à API –∫–ª—é—á Pinecone
   - `PINECONE_INDEX_NAME` - –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞ –≤ Pinecone

3. –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–∏–º–µ—é—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é):
   - `OPENAI_EMBED_MODEL` - –º–æ–¥–µ–ª—å –¥–ª—è embeddings (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `text-embedding-3-small`)
   - `OPENAI_CHAT_MODEL` - –º–æ–¥–µ–ª—å –¥–ª—è —á–∞—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `gpt-4`)
   - `LOG_LEVEL` - —É—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `INFO`)

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ Pinecone

–ó–∞–≥—Ä—É–∑–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ `data/phrases.json` –≤ Pinecone:

```bash
python main.py ingest
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
- –ü—Ä–æ—á–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª `data/phrases.json`
- –°–æ–∑–¥–∞—Å—Ç embeddings –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ —á–µ—Ä–µ–∑ OpenAI
- –ó–∞–≥—Ä—É–∑–∏—Ç –≤–µ–∫—Ç–æ—Ä—ã –≤ Pinecone —Å metadata (text –∏ topic)
- –í—ã–≤–µ–¥–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π

**–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –≤ `data/phrases.json`:**
```json
[
  { "id": "p001", "text": "–¢–µ–∫—Å—Ç —Ñ—Ä–∞–∑—ã...", "topic": "games" },
  { "id": "p002", "text": "–î—Ä—É–≥–∞—è —Ñ—Ä–∞–∑–∞...", "topic": "games" }
]
```

### 2. –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–∏—Å–∫–æ–º:

```bash
python main.py
```

–í –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ:
1. –í–≤–µ–¥–∏—Ç–µ –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
2. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–∏—Ç semantic search –≤ Pinecone (top_k=5)
3. –ü–æ–∫–∞–∂–µ—Ç –Ω–∞–π–¥–µ–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å –æ—Ü–µ–Ω–∫–∞–º–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏
4. –û—Ç–ø—Ä–∞–≤–∏—Ç –∑–∞–ø—Ä–æ—Å –≤ GPT-4 —Å –Ω–∞–π–¥–µ–Ω–Ω—ã–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏
5. –í—ã–≤–µ–¥–µ—Ç –æ—Ç–≤–µ—Ç –º–æ–¥–µ–ª–∏

**–ü—Ä–∏–º–µ—Ä —Å–µ—Å—Å–∏–∏:**
```
–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å (–∏–ª–∏ exit): –∫–∞–∫–∏–µ –∂–∞–Ω—Ä—ã –∏–≥—Ä —Å—É—â–µ—Å—Ç–≤—É—é—Ç?
--- –ù–∞–π–¥–µ–Ω–æ ---
[p002] 0.8542
–ñ–∞–Ω—Ä RPG (—Ä–æ–ª–µ–≤—ã–µ –∏–≥—Ä—ã) –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–≥—Ä–æ–∫–∞–º...

[p004] 0.8231
–®—É—Ç–µ—Ä—ã –æ—Ç –ø–µ—Ä–≤–æ–≥–æ –ª–∏—Ü–∞, —Ç–∞–∫–∏–µ –∫–∞–∫...

--- –û—Ç–≤–µ—Ç –º–æ–¥–µ–ª–∏ ---
–°–æ–≥–ª–∞—Å–Ω–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º [p002, p004, p003], —Å—É—â–µ—Å—Ç–≤—É—é—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∂–∞–Ω—Ä—ã...

–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å (–∏–ª–∏ exit): exit
–í—ã—Ö–æ–¥ –∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º—ã
```

### 3. –ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–∏—Å–∫ –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∏–∑ `data/queries.json`:

```bash
python main.py run-queries
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
- –ü—Ä–æ—á–∏—Ç–∞–µ—Ç –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏–∑ `data/queries.json`
- –í—ã–ø–æ–ª–Ω–∏—Ç –ø–æ–∏—Å–∫ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –æ—Ç–≤–µ—Ç–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
- –í—ã–≤–µ–¥–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ —É–¥–æ–±–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ –¥–ª—è –æ—Ç—á—ë—Ç–∞

**–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –≤ `data/queries.json`:**
```json
[
  "–∫–∞–∫–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –∂–∞–Ω—Ä—ã –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã—Ö –∏–≥—Ä?",
  "–∫–∞–∫–∏–µ —Å–∞–º—ã–µ –∏–∑–≤–µ—Å—Ç–Ω—ã–µ –∏–≥—Ä–æ–≤—ã–µ —Ñ—Ä–∞–Ω—à–∏–∑—ã?",
  "—á—Ç–æ —Ç–∞–∫–æ–µ –∫–∏–±–µ—Ä—Å–ø–æ—Ä—Ç –∏ –∫–∞–∫–∏–µ –∏–≥—Ä—ã –≤ –Ω—ë–º –ø–æ–ø—É–ª—è—Ä–Ω—ã?"
]
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
project/
‚îú‚îÄ‚îÄ main.py              # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ config.py            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ requirements.txt     # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ .env                 # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–Ω–µ –≤ git)
‚îú‚îÄ‚îÄ .env.example         # –®–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ .gitignore           # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ README.md            # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ phrases.json     # –î–∞–Ω–Ω—ã–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤ Pinecone
‚îÇ   ‚îî‚îÄ‚îÄ queries.json     # –ó–∞–ø—Ä–æ—Å—ã –¥–ª—è –ø–∞–∫–µ—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
‚îî‚îÄ‚îÄ RESULTS.md           # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–¥–ª—è –æ—Ç—á—ë—Ç–∞)
```

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–æ—Ü–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö (ingest)

1. –ß—Ç–µ–Ω–∏–µ JSON —Ñ–∞–π–ª–∞ —Å —Ñ—Ä–∞–∑–∞–º–∏
2. –ü–æ–ª—É—á–µ–Ω–∏–µ embeddings —á–µ—Ä–µ–∑ OpenAI API
3. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–æ–≤ —Å metadata
4. Batch-–∑–∞–≥—Ä—É–∑–∫–∞ –≤ Pinecone (–ø–æ 100 –≤–µ–∫—Ç–æ—Ä–æ–≤)

### –ü—Ä–æ—Ü–µ—Å—Å –ø–æ–∏—Å–∫–∞ –∏ –æ—Ç–≤–µ—Ç–∞ (ask)

1. **Semantic Search:**
   - –ü–æ–ª—É—á–µ–Ω–∏–µ embedding –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
   - –ü–æ–∏—Å–∫ –≤ Pinecone (top_k=5, include_metadata=True)
   - –í–æ–∑–≤—Ä–∞—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å –æ—Ü–µ–Ω–∫–∞–º–∏

2. **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞:**
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤ –∏–∑ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
   - –û–±—Ä–µ–∑–∫–∞ –∫–∞–∂–¥–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –¥–æ 500 —Å–∏–º–≤–æ–ª–æ–≤ (–º–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤)
   - –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –±–ª–æ–∫–∞ "–ò—Å—Ç–æ—á–Ω–∏–∫–∏" —Å id –∏ —Ç–µ–∫—Å—Ç–∞–º–∏

3. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞:**
   - –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –≤ GPT-4 —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º –ø—Ä–æ–º–ø—Ç–æ–º
   - –ü—Ä–æ–º–ø—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ç–∏—Ä—É–µ—Ç –º–æ–¥–µ–ª—å –æ—Ç–≤–µ—á–∞—Ç—å –∫—Ä–∞—Ç–∫–æ, —Ç–æ–ª—å–∫–æ –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º, —É–∫–∞–∑—ã–≤–∞—Ç—å id
   - –í—ã–≤–æ–¥ –æ—Ç–≤–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

- –õ–æ–≥–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ `stderr` —Å —Ñ–æ—Ä–º–∞—Ç–æ–º `[LEVEL] —Å–æ–æ–±—â–µ–Ω–∏–µ`
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤—ã–≤–æ–¥ (—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞, –æ—Ç–≤–µ—Ç—ã) - —á–µ—Ä–µ–∑ `print()` –≤ `stdout`
- –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `LOG_LEVEL` –≤ `.env`

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫:
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ OpenAI API
- –û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Pinecone
- –û—à–∏–±–∫–∏ —á—Ç–µ–Ω–∏—è/–ø–∞—Ä—Å–∏–Ω–≥–∞ JSON —Ñ–∞–π–ª–æ–≤
- –û—à–∏–±–∫–∏ —Å–µ—Ç–∏ –∏ —Ç–∞–π–º–∞—É—Ç—ã

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- `openai>=1.0.0` - –∫–ª–∏–µ–Ω—Ç OpenAI API
- `pinecone-client>=3.0.0` - –∫–ª–∏–µ–Ω—Ç Pinecone
- `python-dotenv>=1.0.0` - –∑–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

## –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –≤ —É—á–µ–±–Ω—ã—Ö —Ü–µ–ª—è—Ö.

